<!DOCTYPE HTML>
<html>
  <head>
    <title> CS4250 Library Database</title>
    <link rel="stylesheet" type="text/css" href="styles/library.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  </head>

  <body>
    <!--Provide a free-form box and two buttons called
    "Submit" and "Clear" here. The intent is that the user can enter most arbitrary
    SQL queries in the box and click the submit button. The action should be that you should
    execute that query on the database and bring up the answers on a separate
    page, once again, in a neat, orderly fashion. Notice that the input
    can be most legal SQL queries (permissible under your DB system, of course).
    (SELECT, INSERT, and UPDATE should definitely be allowed.)
    The grader will use table names from your own documentation (Project Part 3, etc),
    so <strong>do not change the names of your tables</strong> unless you update all of your
    documentation to match the new names.  (Did you test your ad-hoc query form with a "like" query?) -->

  <p> <h2 align ="center"><img src= https://s5.postimg.org/f7r25ukc7/dblogo.jpg alt="" width="100" height="100">Library Database</h2></p>

  <p align =center><b>Ad-hoc Query:</b></p>
  <form METHOD=POST ACTION="library.php">
    <div class='querybox'>
          Please enter your query here. Input Example: SELECT * FROM LibraryUsers WHERE Blocked = 1;</br>
          <input type=text size=117 maxlength=1500 name="query"></br>
        <div id='submissionField'>
          <input type=reset value="Clear">
          <input type=submit value="Submit">
        </div>
    </div>
</form>

  <p align = center>
  <b>Team Members:</b>
    <br>Alison Lopez </br>
    <br>Mary Garcia </br>
    <br>Stefan Suarez </br>
  </p>


  <p align = center><b>Relations:</b></p>
  <!--In the following, substitute actual names for Relation1, Relation2
  etc. Have as many entries as the number of relations in your project.
  Clicking a link on a relation name should execute an SQL query and list
  *all* the tuples in that particular relation (of course, the links below don't work).
  Your output should be presented on a separate web page in a neat,
  orderly fashion, one row for each tuple and columns plainly evident.
  Ensure that all columns have their headers listed and their data types are
  clear (i.e., state which is an int and which is a char and so on).-->

  <ol>
  <form METHOD=POST ACTION="library.php">
    <li><button type= submit name="query" value="SELECT * FROM LibraryUsers;">LibraryUsers</button></li>
    <li><button type= submit name="query" value="SELECT * FROM LibraryWork;">LibraryWork</button></li>
    <li><button type= submit name="query" value="SELECT * FROM ISBN;">ISBN</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Books;">Books</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Periodicals;">Periodicals</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Serialization;">Serialization</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Serialized;">Serialized</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Branch;">Branch</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Shelf">Shelf</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Repairers;">Repairers</button></li>
    <li><button type= submit name="query" value="SELECT * FROM RENT;">Rent</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Reserved;">Reserved</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Subscribed;">Subscribed</button></li>
    <li><button type= submit name="query" value="SELECT * FROM LocatedAt;">LocatedAt</button></li>
    <li><button type= submit name="query" value="SELECT * FROM BeingRepaired;">BeingRepaired</button></li>
    <li><button type= submit name="query" value="SELECT * FROM Review;">Review</button></li>
  </form>
  </ol>

  <p align = center><b>Queries:</b></p>
  <!--In the following, add an English
  query description for each of the five queries that you created for Part 6 of
  your project.  Again, clicking a link on the query name should execute
  the appropriate SQL query and list the tuples that are the answer to
  that particular query.  Again, make sure your output is neatly ordered
  and column names and data types are evident. The output of the query
  should appear on a separate page.  Near the top of the page, above the tidily
  presented query output, <big><b>must be</b></big> the original SQL for your query.</i><p>
  -->
  <ol>
  <form METHOD=POST ACTION="library.php">
  <li><button type= submit name="query" value="SELECT AVG(Balance) FROM LibraryUsers WHERE Blocked = 1;">Query1</button>:
  Among library goers that are blocked, what is the average amount of money that they owe to the library?</li>
  <li><button type=submit name="query" value="SELECT S.Genre, S.secID, S.BranchID FROM Shelf AS S, Books AS B, LocatedAt AS LA WHERE B.ISBN=2591400744985 AND B.wID = LA.wID AND LA.secID = S.secID;">Query2</button>:
  What is the genre of the ISBN “2591400744985,” what branches can I find it in and what sections within those branches will I actually be looking for a copy?</li>
  <li><button type=submit name="query" value="SELECT Shelf.Genre AS 'Book Genre', COUNT(Shelf.Genre) AS 'Quantity' FROM Shelf Group BY Shelf.Genre HAVING COUNT(*)>1;">Query3</button>:
  In the entire library, including all branches, what genres have more than one section dedicated to them and how many sections does each have?</li>
  <li><button type=submit name="query" value="SELECT DISTINCT LanguageWritten FROM Periodicals;">Query4</button>:
  What languages does the library carry for their periodicals? </li>
  <li><button type=submit name="query" value="SELECT DISTINCT COUNT(*) FROM Rent WHERE DATE_ADD(StartDate, INTERVAL Days_Length Day)<'2016-12-25' AND DATE_ADD(StartDate,INTERVAL Days_Length Day)>='2016-12-1';">Query5</button>:
  How many rented books are due back in December of 2016 before Christmas?</li>
  </ol>
  </form>

  </body>
</html>
